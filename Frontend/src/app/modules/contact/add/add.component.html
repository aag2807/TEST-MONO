<form [formGroup]="contactForm" class="d-flex flex-col">

  <div class="d-flex flex-row mt-2 mb-3">
    <p class="color-text font-size-xxl font-weight-700">
      Formulario de contacto
    </p>
  </div>

  <div class="d-flex flex-wrap flex-row justify-content-space-between">
    <!-- first name form-->
    <div class="d-flex flex-col p-relative w-100 mb-3 input-form-container">
      <label class="form-label font-weight-500 pb-1" for="firstname">Primer Nombre</label>
      <input [class.error]="firstnameErrors && firstname?.touched" id="firstname" formControlName="firstName" type="text" />
      <div class="icon-container">
        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" style="height: 25px; width: 25px;" viewBox="0 0 512 512">
          <title>Person Circle</title>
          <path
          stroke="currentColor"
            d="M258.9 48C141.92 46.42 46.42 141.92 48 258.9c1.56 112.19 92.91 203.54 205.1 205.1 117 1.6 212.48-93.9 210.88-210.88C462.44 140.91 371.09 49.56 258.9 48zm126.42 327.25a4 4 0 01-6.14-.32 124.27 124.27 0 00-32.35-29.59C321.37 329 289.11 320 256 320s-65.37 9-90.83 25.34a124.24 124.24 0 00-32.35 29.58 4 4 0 01-6.14.32A175.32 175.32 0 0180 259c-1.63-97.31 78.22-178.76 175.57-179S432 158.81 432 256a175.32 175.32 0 01-46.68 119.25z" />
          <path
          stroke="currentColor"
            d="M256 144c-19.72 0-37.55 7.39-50.22 20.82s-19 32-17.57 51.93C191.11 256 221.52 288 256 288s64.83-32 67.79-71.24c1.48-19.74-4.8-38.14-17.68-51.82C293.39 151.44 275.59 144 256 144z" />
        </svg>
      </div>
      <label *ngIf="firstnameErrors && firstname?.touched" class="font-size-sm pl-1 error-text">El campo es requerido</label>
    </div>

    <!-- last name form-->
    <div class="d-flex flex-col p-relative w-100 mb-3 input-form-container">
      <label class="form-label font-weight-500 pb-1" for="lastName">Apellido</label>
      <input [class.error]="lastnameErrors && lastname?.touched" id="lastName" formControlName="lastName" type="text" />
      <div class="icon-container">
        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" style="height: 25px; width: 25px;" viewBox="0 0 512 512">
          <title>Person Circle</title>
          <path
          stroke="currentColor"
            d="M258.9 48C141.92 46.42 46.42 141.92 48 258.9c1.56 112.19 92.91 203.54 205.1 205.1 117 1.6 212.48-93.9 210.88-210.88C462.44 140.91 371.09 49.56 258.9 48zm126.42 327.25a4 4 0 01-6.14-.32 124.27 124.27 0 00-32.35-29.59C321.37 329 289.11 320 256 320s-65.37 9-90.83 25.34a124.24 124.24 0 00-32.35 29.58 4 4 0 01-6.14.32A175.32 175.32 0 0180 259c-1.63-97.31 78.22-178.76 175.57-179S432 158.81 432 256a175.32 175.32 0 01-46.68 119.25z" />
          <path
          stroke="currentColor"
            d="M256 144c-19.72 0-37.55 7.39-50.22 20.82s-19 32-17.57 51.93C191.11 256 221.52 288 256 288s64.83-32 67.79-71.24c1.48-19.74-4.8-38.14-17.68-51.82C293.39 151.44 275.59 144 256 144z" />
        </svg>
      </div>
      <label *ngIf="lastnameErrors && lastname?.touched" class="font-size-sm pl-1 error-text">El campo es requerido</label>
    </div>

    <!-- email input -->
    <div class="d-flex flex-col p-relative w-100 mb-3 input-form-container">
      <label class="form-label font-weight-500 pb-1" for="email">Correo</label>
      <input [class.error]="emailErrors && email?.touched" id="email" formControlName="email" type="email" />
      <div class="icon-container">
        <svg xmlns="http://www.w3.org/2000/svg" style="height: 25px; width: 25px;" class="ionicon" viewBox="0 0 512 512">
          <title>Mail</title>
          <rect x="48" y="96" width="416" height="320" rx="40" ry="40" fill="none" stroke="currentColor"
            stroke-linecap="round" stroke-linejoin="round" stroke-width="32" />
          <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"
            d="M112 160l144 112 144-112" />
        </svg>
      </div>
      <label *ngIf="emailErrors?.['required'] && email?.touched" class="font-size-sm pl-1 error-text">El campo es requerido</label>
      <label *ngIf="emailErrors?.['pattern'] && email?.touched" class="font-size-sm pl-1 error-text">El campo es no esta formateado adecuadamente</label>
    </div>
  </div>

  <!-- phone inputs-->
  <ng-container formArrayName="phone">
    <div class="d-flex flex-row">
      <label class="form-label font-weight-500 pb-1" for="email">Numeros telefonicos</label>
      <button class="FAB" (click)="addNewPhoneNumberInput()">+</button>
    </div>
    <div *ngFor="let phonenum of phoneControls; let i = index" class="d-flex flex-col p-relative w-100 mb-3 input-form-container phone">
      <label class="form-label font-weight-500 pb-1" for="phone"></label>
      <input [formControl]="$any(phonenum)"  [class.error]="phoneControls[i]?.errors && phoneControls[i]?.touched" id="phone" type="tel" />
      <div class="icon-container phone">
        <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" style="height: 25px; width: 25px;"
          viewBox="0 0 512 512">
          <title>Call</title>
          <path
            d="M451 374c-15.88-16-54.34-39.35-73-48.76-24.3-12.24-26.3-13.24-45.4.95-12.74 9.47-21.21 17.93-36.12 14.75s-47.31-21.11-75.68-49.39-47.34-61.62-50.53-76.48 5.41-23.23 14.79-36c13.22-18 12.22-21 .92-45.3-8.81-18.9-32.84-57-48.9-72.8C119.9 44 119.9 47 108.83 51.6A160.15 160.15 0 0083 65.37C67 76 58.12 84.83 51.91 98.1s-9 44.38 23.07 102.64 54.57 88.05 101.14 134.49S258.5 406.64 310.85 436c64.76 36.27 89.6 29.2 102.91 23s22.18-15 32.83-31a159.09 159.09 0 0013.8-25.8C465 391.17 468 391.17 451 374z"
            fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" />
        </svg>
      </div>
      <label *ngIf="phonenum?.errors?.['required'] && phonenum?.touched" class="font-size-sm pl-1 error-text">El campo es requerido</label>
      <label *ngIf="phonenum?.errors?.['pattern'] && phonenum?.touched" class="font-size-sm pl-1 error-text">El campo es no esta formateado adecuadamente</label>
    </div>
  </ng-container>

  <div class="d-flex flex-row justify-content-center align-items-center">
    <button type="button" class="purple py-1 px-5 font-size-md" (click)="handleSubmit()">Submit</button>
  </div>
</form>
